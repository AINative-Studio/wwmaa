# ==========================================
# WWMAA Backend Environment Configuration
# ==========================================
# Copy this file to .env and fill in the values
# DO NOT commit .env file to version control

# ==========================================
# Environment Configuration
# ==========================================
# Options: development, staging, production
PYTHON_ENV=development

# ==========================================
# ZeroDB Configuration (REQUIRED)
# ==========================================
# ZeroDB authentication API key (minimum 10 characters)
# Obtain from: https://api.ainative.studio/dashboard
ZERODB_API_KEY=your-zerodb-api-key-here

# ZeroDB API endpoint
# Production: https://api.ainative.studio
# Development: https://api.ainative.studio
ZERODB_API_BASE_URL=https://api.ainative.studio

# Optional: ZeroDB account credentials for some operations
ZERODB_EMAIL=admin@ainative.studio
ZERODB_PASSWORD=your-password-here

# ==========================================
# JWT Configuration (REQUIRED)
# ==========================================
# Secret key for JWT token signing
# MUST be at least 32 characters
# Generate with: python -c "import secrets; print(secrets.token_urlsafe(32))"
JWT_SECRET=change-this-to-a-secure-random-string-at-least-32-characters-long

# JWT signing algorithm (default: HS256)
JWT_ALGORITHM=HS256

# Access token expiration in minutes (default: 30, range: 1-1440)
JWT_ACCESS_TOKEN_EXPIRE_MINUTES=30

# Refresh token expiration in days (default: 7, range: 1-90)
JWT_REFRESH_TOKEN_EXPIRE_DAYS=7

# ==========================================
# Redis Configuration (REQUIRED)
# ==========================================
# Redis connection URL for caching and rate limiting
# Local: redis://localhost:6379
# Railway: redis://default:password@redis.railway.internal:6379
REDIS_URL=redis://localhost:6379

# ==========================================
# Stripe Configuration (REQUIRED)
# ==========================================
# Stripe secret key for payment processing (minimum 10 characters)
# Obtain from: https://dashboard.stripe.com/apikeys
# Test key starts with: sk_test_
# Live key starts with: sk_live_
STRIPE_SECRET_KEY=sk_test_your-stripe-secret-key

# Stripe webhook secret for webhook validation (minimum 10 characters)
# Obtain from: https://dashboard.stripe.com/webhooks
# Starts with: whsec_
STRIPE_WEBHOOK_SECRET=whsec_your-stripe-webhook-secret

# Optional: Stripe publishable key (mainly for frontend)
# Test key starts with: pk_test_
# Live key starts with: pk_live_
STRIPE_PUBLISHABLE_KEY=pk_test_your-stripe-publishable-key

# ==========================================
# Email Configuration (REQUIRED)
# ==========================================
# Postmark API key for transactional emails (minimum 10 characters)
# Obtain from: https://account.postmarkapp.com/servers
POSTMARK_API_KEY=your-postmark-api-key

# Default sender email address
FROM_EMAIL=noreply@wwmaa.com

# ==========================================
# BeeHiiv Newsletter (REQUIRED)
# ==========================================
# BeeHiiv API key for newsletter integration (minimum 10 characters)
# Obtain from: https://app.beehiiv.com/settings/integrations
BEEHIIV_API_KEY=your-beehiiv-api-key

# Optional: BeeHiiv publication ID
BEEHIIV_PUBLICATION_ID=your-publication-id

# ==========================================
# Cloudflare Configuration (REQUIRED)
# ==========================================
# Cloudflare account ID for video services (minimum 10 characters)
# Obtain from: https://dash.cloudflare.com/
CLOUDFLARE_ACCOUNT_ID=your-cloudflare-account-id

# Cloudflare API token for authentication (minimum 10 characters)
# Obtain from: https://dash.cloudflare.com/profile/api-tokens
# Required permissions: Stream:Edit, Calls:Edit
CLOUDFLARE_API_TOKEN=your-cloudflare-api-token

# Optional: Cloudflare Calls application ID
CLOUDFLARE_CALLS_APP_ID=your-calls-app-id

# ==========================================
# AINative AI Registry (REQUIRED)
# ==========================================
# AINative AI Registry API key (minimum 10 characters)
# Obtain from: https://ainative.studio/registry
AINATIVE_API_KEY=your-ainative-api-key

# AI Registry API key for LLM orchestration (minimum 10 characters)
# Obtain from: https://ainative.studio/registry
AI_REGISTRY_API_KEY=your-ai-registry-api-key

# AI Registry API base URL
# Production: https://api.ainative.studio
AI_REGISTRY_BASE_URL=https://api.ainative.studio

# Primary LLM model for AI Registry
# Options: gpt-4, gpt-4-turbo, claude-3-sonnet, claude-3-opus
AI_REGISTRY_MODEL=gpt-4

# Fallback LLM model when primary fails
# Options: gpt-3.5-turbo, claude-3-haiku
AI_REGISTRY_FALLBACK_MODEL=gpt-3.5-turbo

# Maximum tokens for LLM responses (100-32000)
AI_REGISTRY_MAX_TOKENS=2000

# Temperature for LLM responses (0.0-2.0, default: 0.7)
# Lower = more focused, Higher = more creative
AI_REGISTRY_TEMPERATURE=0.7

# Request timeout in seconds (10-300, default: 60)
AI_REGISTRY_TIMEOUT=60

# ==========================================
# OpenAI Configuration (REQUIRED for Content Indexing)
# ==========================================
# OpenAI API key for embeddings generation (minimum 10 characters)
# Obtain from: https://platform.openai.com/api-keys
OPENAI_API_KEY=sk-your-openai-api-key

# OpenAI embedding model (default: text-embedding-ada-002)
OPENAI_EMBEDDING_MODEL=text-embedding-ada-002

# ==========================================
# Content Indexing Configuration
# ==========================================
# Interval in hours for automatic content indexing (default: 6, range: 1-24)
INDEXING_SCHEDULE_INTERVAL_HOURS=6

# Maximum tokens per content chunk (default: 500, range: 100-2000)
INDEXING_CHUNK_SIZE=500

# Token overlap between chunks (default: 50, range: 0-200)
INDEXING_CHUNK_OVERLAP=50

# Batch size for OpenAI embedding requests (default: 100, range: 1-2048)
INDEXING_BATCH_SIZE=100

# ==========================================
# Backend Configuration
# ==========================================
# Python backend URL
# Development: http://localhost:8000
# Staging: https://staging-api.wwmaa.com
# Production: https://api.wwmaa.com
PYTHON_BACKEND_URL=http://localhost:8000

# ==========================================
# Testing Configuration
# ==========================================
# Minimum test coverage percentage required (0-100)
TEST_COVERAGE_MINIMUM=80

# ==========================================
# Performance Monitoring Configuration (Sprint 7 - US-067)
# ==========================================
# Enable Prometheus metrics collection (true/false)
PROMETHEUS_ENABLED=true

# Endpoint for Prometheus metrics
METRICS_ENDPOINT=/metrics

# Threshold in seconds for slow query logging (0.1-10.0)
SLOW_QUERY_THRESHOLD_SECONDS=1.0

# Path to slow query log file
SLOW_QUERY_LOG_FILE=/var/log/wwmaa/slow_queries.log

# ==========================================
# Frontend Configuration (for reference)
# ==========================================
# These variables are used by the Next.js frontend
# Copy to your frontend .env file

# NEXT_PUBLIC_BACKEND_API_URL=http://localhost:8000
# NEXT_PUBLIC_APP_URL=http://localhost:3000
